(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97532,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(18566),s=e.i(91432),l=e.i(17927),d=e.i(71689);let n=(0,e.i(75254).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);var i=e.i(31278),o=e.i(7233),c=e.i(27612),g=e.i(22016),x=e.i(47163);let u={buildings_facilities:{label:"1. Buildings & Facilities",assetTypes:["Buildings/Leasehold improvements"],defaultRecurrence:2,defaultDepreciation:10},ffe:{label:"2. Furniture, Fixtures & Equipment (FF&E)",assetTypes:["Furniture & Equipment"],defaultRecurrence:2,defaultDepreciation:10},it_digital:{label:"3. IT & Digital Learning",assetTypes:["Computer Equipment/Intangibles"],defaultRecurrence:2,defaultDepreciation:2},transportation:{label:"4. Transportation",assetTypes:["Vehicles/Equipment"],defaultRecurrence:4,defaultDepreciation:2},strategic:{label:"5. Strategic/Safety",assetTypes:["Specialized Assets / Intangibles"],defaultRecurrence:4,defaultDepreciation:4}};function y(){let e=(0,t.useRouter)(),{user:y,loading:b}=(0,s.useAuth)(),[m,p]=(0,a.useState)(!1),[h,k]=(0,a.useState)(!1),[v,j]=(0,a.useState)(""),[f,N]=(0,a.useState)("base"),[w,_]=(0,a.useState)(""),[C,S]=(0,a.useState)(""),[R,A]=(0,a.useState)(""),[I,E]=(0,a.useState)(""),[F,T]=(0,a.useState)(1394),[Y,M]=(0,a.useState)(348),[P,B]=(0,a.useState)(1440),[q,D]=(0,a.useState)(360),[z,X]=(0,a.useState)(1480),[L,O]=(0,a.useState)(370),[G,V]=(0,a.useState)(33213),[$,U]=(0,a.useState)(44284),[K,W]=(0,a.useState)(5),[Q,H]=(0,a.useState)("1"),[J,Z]=(0,a.useState)(47),[ee,er]=(0,a.useState)(20),[ea,et]=(0,a.useState)(5),[es,el]=(0,a.useState)("fixed_plus_inflation"),[ed,en]=(0,a.useState)(7631145),[ei,eo]=(0,a.useState)(3),[ec,eg]=(0,a.useState)(12),[ex,eu]=(0,a.useState)("1"),[ey,eb]=(0,a.useState)(70),[em,ep]=(0,a.useState)(30),[eh,ek]=(0,a.useState)(140),[ev,ej]=(0,a.useState)(60),[ef,eN]=(0,a.useState)(210),[ew,e_]=(0,a.useState)(90),[eC,eS]=(0,a.useState)(280),[eR,eA]=(0,a.useState)(120),[eI,eE]=(0,a.useState)(350),[eF,eT]=(0,a.useState)(150),[eY,eM]=(0,a.useState)(45e3),[eP,eB]=(0,a.useState)(6e4),[eq,eD]=(0,a.useState)(5),[ez,eX]=(0,a.useState)("1"),[eL,eO]=(0,a.useState)(45),[eG,eV]=(0,a.useState)(8),[e$,eU]=(0,a.useState)(3),[eK,eW]=(0,a.useState)("percentage_revenue"),[eQ,eH]=(0,a.useState)(8e6),[eJ,eZ]=(0,a.useState)(3),[e0,e2]=(0,a.useState)(12),[e1,e3]=(0,a.useState)("1"),[e4,e6]=(0,a.useState)([{year:2025,amount:3e6,depreciation_period:10,description:"Classroom renovation"},{year:2026,amount:15e5,depreciation_period:5,description:"IT infrastructure upgrade"}]),[e7,e5]=(0,a.useState)([{id:"1",category:"it_digital",assetType:"Computer Equipment/Intangibles",recurrenceYears:2,depreciationYears:2,baseAmount:5e5,startingYear:2028},{id:"2",category:"buildings_facilities",assetType:"Buildings/Leasehold improvements",recurrenceYears:2,depreciationYears:10,baseAmount:2e6,startingYear:2030}]),[e8,e9]=(0,a.useState)(30),[re,rr]=(0,a.useState)(45),[ra,rt]=(0,a.useState)(15),[rs]=(0,a.useState)({2023:{cash:165e5,accounts_receivable:85e5,inventory:4e5,ppe_net:21e6,total_assets:464e5,accounts_payable:45e5,deferred_income:75e5,provisions:2e6,total_liabilities:14e6,equity:324e5,total_liab_equity:464e5},2024:{cash:0x1167958,accounts_receivable:98e5,inventory:5e5,ppe_net:2e7,total_assets:0x2e4d0b8,accounts_payable:5e6,deferred_income:8e6,provisions:2e6,total_liabilities:15e6,equity:0x1ffeef8,total_liab_equity:0x2e4d0b8}});(0,a.useEffect)(()=>{b||y||e.push("/login")},[y,b,e]);let rl=(e,r,a)=>{let t=[...e4];t[e]={...t[e],[r]:a},e6(t)},rd=(e,r,a)=>{e5(e7.map(t=>{if(t.id===e){let e={...t,[r]:a};if("category"===r){let r=u[a];e.recurrenceYears=r.defaultRecurrence,e.depreciationYears=r.defaultDepreciation,e.assetType=r.assetTypes[0]}return e}return t}))},rn=()=>{let e=[];return e7.forEach(r=>{let a=u[r.category].label;for(let t=r.startingYear;t<=2052;t+=r.recurrenceYears)e.push({year:t,amount:r.baseAmount,depreciation_period:r.depreciationYears,description:`${a} - ${r.assetType}`})}),e.sort((e,r)=>e.year-r.year)},ri=async()=>{if(!v)return void alert("Please enter a version name");p(!0);try{let r=parseInt(Q),a=parseInt(ex),t={2025:{students:{total:F+Y,french:F,ib:Y},tuition:{avg:(G*F+$*Y)/(F+Y),french:G,ib:$},other_income:55e5,growth_rate:K/100,staff_cost_pct:J/100,opex_pct:ee/100,others_expenses_pct:ea/100,rent_model:"fixed_plus_inflation"===es?{type:"fixed",amount:ed,inflation_rate:ei/100,growth_frequency:a}:{type:"revenue_based",percentage:ec/100}},2026:{students:{total:P+q,french:P,ib:q},tuition:{avg:(G*P+$*q)/(P+q)*(1===r?1+K/100:1),french:G*(1===r?1+K/100:1),ib:$*(1===r?1+K/100:1)},other_income:6e6,growth_rate:K/100,staff_cost_pct:J/100,opex_pct:ee/100,others_expenses_pct:ea/100,rent_model:"fixed_plus_inflation"===es?{type:"fixed",amount:ed*(1===a?1+ei/100:1),inflation_rate:ei/100,growth_frequency:a}:{type:"revenue_based",percentage:ec/100}},2027:{students:{total:z+L,french:z,ib:L},tuition:{avg:(G*z+$*L)/(z+L)*Math.pow(1+K/100,Math.floor(2/r)),french:G*Math.pow(1+K/100,Math.floor(2/r)),ib:$*Math.pow(1+K/100,Math.floor(2/r))},other_income:65e5,growth_rate:K/100,staff_cost_pct:J/100,opex_pct:ee/100,others_expenses_pct:ea/100,rent_model:"fixed_plus_inflation"===es?{type:"fixed",amount:ed*Math.pow(1+ei/100,Math.floor(2/a)),inflation_rate:ei/100,growth_frequency:a}:{type:"revenue_based",percentage:ec/100}}},s={},d=parseInt(ez),n=parseInt(e1),i={2028:ey,2029:eh,2030:ef,2031:eC},o={2028:em,2029:ev,2030:ew,2031:eR};for(let e=2028;e<=2052;e++){let r=i[e]||eI,a=o[e]||eF,t=e-2028,l=Math.pow(1+eq/100,Math.floor(t/d)),c=Math.pow(1+eJ/100,Math.floor(t/n));s[String(e)]={students:{total:r+a,french:r,ib:a},tuition:{avg:(eY*l*r+eP*l*a)/(r+a),french:Math.round(eY*l),ib:Math.round(eP*l)},other_income:7e6,staff_cost_pct:eL/100,opex_pct:eG/100,others_expenses_pct:e$/100,rent_model:"percentage_revenue"===eK?{type:"revenue_based",percentage:e0/100}:{type:"fixed",amount:eQ*c,inflation_rate:eJ/100,growth_frequency:n}}}let c=rn(),g=[...e4,...c].sort((e,r)=>e.year-r.year),{data:x,error:u}=await l.supabase.functions.invoke("run-model",{body:{versionName:v,versionType:f,assumptions:{general_setup:{school_name:I||"School",planning_horizon:{start:2024,end:2052},currency:"SAR",display_units:"M SAR"},strategic_near_term:t,strategic_long_term:s,capex_table:g,working_capital:{ar_days:e8,ap_days:re,deferred_pct:.12,inventory_days:ra},opening_balance_sheet:rs,default_growth_rate:eq/100},propertyMetadata:{land_size:w,building_size:C,comments:R}}});if(u)throw u;k(!0),setTimeout(()=>{k(!1),e.push(`/versions/${x.data.version_id}`)},2e3)}catch(e){console.error("Error running model:",e),alert(`Error: ${e.message}`)}finally{p(!1)}};return b||!y?null:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsx)("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(g.default,{href:"/dashboard",className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,r.jsx)(d.ArrowLeft,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Assumptions Workspace"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Configure your financial planning inputs"})]})]}),(0,r.jsx)("button",{onClick:ri,disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors flex items-center space-x-2",children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Loader2,{className:"w-4 h-4 animate-spin"}),(0,r.jsx)("span",{children:"Calculating..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Run Model"})]})})]})})}),h&&(0,r.jsx)("div",{className:"bg-green-50 dark:bg-green-900 border-l-4 border-green-400 p-4 mx-4 mt-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsxs)("p",{className:"text-sm text-green-700 dark:text-green-300",children:[(0,r.jsx)("span",{className:"font-medium",children:"Success!"})," Model calculated successfully. Redirecting to version details..."]})})]})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Version Setup"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Version Name"}),(0,r.jsx)("input",{type:"text",value:v,onChange:e=>j(e.target.value),placeholder:"e.g., Base Case - Q4 2024",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Version Type"}),(0,r.jsxs)("select",{value:f,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[(0,r.jsx)("option",{value:"base",children:"Base Case"}),(0,r.jsx)("option",{value:"optimistic",children:"Optimistic"}),(0,r.jsx)("option",{value:"downside",children:"Downside"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"School Name"}),(0,r.jsx)("input",{type:"text",value:I,onChange:e=>E(e.target.value),placeholder:"School Name",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]}),(0,r.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Property Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Land Size"}),(0,r.jsx)("input",{type:"text",value:w,onChange:e=>_(e.target.value),placeholder:"e.g., 2,500 m²",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Building Size"}),(0,r.jsx)("input",{type:"text",value:C,onChange:e=>S(e.target.value),placeholder:"e.g., 8,000 m²",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Property Comments"}),(0,r.jsx)("textarea",{value:R,onChange:e=>A(e.target.value),placeholder:"e.g., Prime location near business district, potential for long-term lease partnership, profit-sharing opportunities...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4 mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Strategic Near-Term (2025-2027)"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Full strategic modeling approach for near-term planning"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Student Enrollment"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"2025 French Students"}),(0,r.jsx)("input",{type:"number",value:F,onChange:e=>T(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"2025 IB Students"}),(0,r.jsx)("input",{type:"number",value:Y,onChange:e=>M(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"2026 French Students"}),(0,r.jsx)("input",{type:"number",value:P,onChange:e=>B(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"2026 IB Students"}),(0,r.jsx)("input",{type:"number",value:q,onChange:e=>D(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"2027 French Students"}),(0,r.jsx)("input",{type:"number",value:z,onChange:e=>X(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"2027 IB Students"}),(0,r.jsx)("input",{type:"number",value:L,onChange:e=>O(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Tuition Structure"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"French Tuition per Student (SAR)"}),(0,r.jsx)("input",{type:"text",value:(0,x.formatCurrencySAR)(G),onChange:e=>V((0,x.parseCurrency)(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"IB Tuition per Student (SAR)"}),(0,r.jsx)("input",{type:"text",value:(0,x.formatCurrencySAR)($),onChange:e=>U((0,x.parseCurrency)(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Annual Growth Rate (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:K,onChange:e=>W(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Growth Frequency (years)"}),(0,r.jsxs)("select",{value:Q,onChange:e=>H(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[(0,r.jsx)("option",{value:"1",children:"Every 1 year"}),(0,r.jsx)("option",{value:"2",children:"Every 2 years"}),(0,r.jsx)("option",{value:"3",children:"Every 3 years"}),(0,r.jsx)("option",{value:"4",children:"Every 4 years"}),(0,r.jsx)("option",{value:"5",children:"Every 5 years"})]})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Cost Structure (% of Revenue)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Staff Costs as % of Revenue (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:J,onChange:e=>Z(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Opex as % of Revenue (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:ee,onChange:e=>er(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Others Expenses (% of Staff Costs)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:ea,onChange:e=>et(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Rent Model"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rent Mode"}),(0,r.jsxs)("select",{value:es,onChange:e=>el(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[(0,r.jsx)("option",{value:"fixed_plus_inflation",children:"Fixed Plus Inflation"}),(0,r.jsx)("option",{value:"percentage_revenue",children:"Percentage of Revenue"})]})]}),"fixed_plus_inflation"===es&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Base Rent (SAR)"}),(0,r.jsx)("input",{type:"text",value:(0,x.formatCurrencySAR)(ed),onChange:e=>en((0,x.parseCurrency)(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Inflation Rate (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:ei,onChange:e=>eo(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]}),"percentage_revenue"===es&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rent as % of Revenue (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:ec,onChange:e=>eg(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Growth Frequency (years)"}),(0,r.jsxs)("select",{value:ex,onChange:e=>eu(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[(0,r.jsx)("option",{value:"1",children:"Every 1 year"}),(0,r.jsx)("option",{value:"2",children:"Every 2 years"}),(0,r.jsx)("option",{value:"3",children:"Every 3 years"}),(0,r.jsx)("option",{value:"4",children:"Every 4 years"}),(0,r.jsx)("option",{value:"5",children:"Every 5 years"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"border-l-4 border-purple-500 pl-4 mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Strategic Long-Term (2028-2052)"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"25-year strategic planning model"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Enrollment Ramp-Up"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Year 1 (2028) French"}),(0,r.jsx)("input",{type:"number",value:ey,onChange:e=>eb(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Year 1 (2028) IB"}),(0,r.jsx)("input",{type:"number",value:em,onChange:e=>ep(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Year 2 (2029) French"}),(0,r.jsx)("input",{type:"number",value:eh,onChange:e=>ek(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Year 2 (2029) IB"}),(0,r.jsx)("input",{type:"number",value:ev,onChange:e=>ej(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Year 3 (2030) French"}),(0,r.jsx)("input",{type:"number",value:ef,onChange:e=>eN(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Year 3 (2030) IB"}),(0,r.jsx)("input",{type:"number",value:ew,onChange:e=>e_(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Year 4 (2031) French"}),(0,r.jsx)("input",{type:"number",value:eC,onChange:e=>eS(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Year 4 (2031) IB"}),(0,r.jsx)("input",{type:"number",value:eR,onChange:e=>eA(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Year 5+ (2032-2052) French"}),(0,r.jsx)("input",{type:"number",value:eI,onChange:e=>eE(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Year 5+ (2032-2052) IB"}),(0,r.jsx)("input",{type:"number",value:eF,onChange:e=>eT(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Tuition Structure"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"French Tuition per Student (SAR)"}),(0,r.jsx)("input",{type:"text",value:(0,x.formatCurrencySAR)(eY),onChange:e=>eM((0,x.parseCurrency)(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"IB Tuition per Student (SAR)"}),(0,r.jsx)("input",{type:"text",value:(0,x.formatCurrencySAR)(eP),onChange:e=>eB((0,x.parseCurrency)(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Annual Growth Rate (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:eq,onChange:e=>eD(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Growth Frequency (years)"}),(0,r.jsxs)("select",{value:ez,onChange:e=>eX(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[(0,r.jsx)("option",{value:"1",children:"Every 1 year"}),(0,r.jsx)("option",{value:"2",children:"Every 2 years"}),(0,r.jsx)("option",{value:"3",children:"Every 3 years"}),(0,r.jsx)("option",{value:"4",children:"Every 4 years"}),(0,r.jsx)("option",{value:"5",children:"Every 5 years"})]})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Cost Structure (% of Revenue)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Staff Costs as % of Revenue (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:eL,onChange:e=>eO(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Opex as % of Revenue (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:eG,onChange:e=>eV(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Others Expenses (% of Staff Costs)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e$,onChange:e=>eU(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Rent Model"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rent Mode"}),(0,r.jsxs)("select",{value:eK,onChange:e=>eW(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[(0,r.jsx)("option",{value:"fixed_plus_inflation",children:"Fixed Plus Inflation"}),(0,r.jsx)("option",{value:"percentage_revenue",children:"Percentage of Revenue"})]})]}),"fixed_plus_inflation"===eK&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Base Rent (SAR)"}),(0,r.jsx)("input",{type:"text",value:(0,x.formatCurrencySAR)(eQ),onChange:e=>eH((0,x.parseCurrency)(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Inflation Rate (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:eJ,onChange:e=>eZ(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]}),"percentage_revenue"===eK&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rent as % of Revenue (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:e0,onChange:e=>e2(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Growth Frequency (years)"}),(0,r.jsxs)("select",{value:e1,onChange:e=>e3(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[(0,r.jsx)("option",{value:"1",children:"Every 1 year"}),(0,r.jsx)("option",{value:"2",children:"Every 2 years"}),(0,r.jsx)("option",{value:"3",children:"Every 3 years"}),(0,r.jsx)("option",{value:"4",children:"Every 4 years"}),(0,r.jsx)("option",{value:"5",children:"Every 5 years"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"border-l-4 border-orange-500 pl-4 mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Near-term Manual CAPEX (2025-2027)"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Specific near-term investments and project-based spending"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[e4.map((e,a)=>(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/30 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Year"}),(0,r.jsx)("input",{type:"number",value:e.year,onChange:e=>rl(a,"year",parseInt(e.target.value)||2025),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Amount (SAR)"}),(0,r.jsx)("input",{type:"text",value:(0,x.formatCurrencySAR)(e.amount),onChange:e=>rl(a,"amount",(0,x.parseCurrency)(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Depreciation (years)"}),(0,r.jsx)("input",{type:"number",value:e.depreciation_period,onChange:e=>rl(a,"depreciation_period",parseInt(e.target.value)||5),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Description"}),(0,r.jsx)("input",{type:"text",value:e.description,onChange:e=>rl(a,"description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsx)("div",{className:"flex items-end",children:(0,r.jsx)("button",{onClick:()=>{e6(e4.filter((e,r)=>r!==a))},className:"w-full px-3 py-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 border border-red-200 dark:border-red-800 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors flex items-center justify-center space-x-2",children:(0,r.jsx)(c.Trash2,{className:"w-4 h-4"})})})]})},a)),(0,r.jsxs)("button",{onClick:()=>{e6([...e4,{year:2025,amount:0,depreciation_period:5,description:""}])},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,r.jsx)(o.Plus,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Add Manual CAPEX Entry"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"border-l-4 border-purple-500 pl-4 mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recurring CAPEX Planning (2028-2052)"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Automated lifecycle management with predefined re-investment cycles"})]}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[e7.map(e=>{let a=u[e.category];return(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/30 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Category"}),(0,r.jsx)("select",{value:e.category,onChange:r=>rd(e.id,"category",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm",children:Object.entries(u).map(([e,a])=>(0,r.jsx)("option",{value:e,children:a.label},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Asset Type"}),(0,r.jsx)("select",{value:e.assetType,onChange:r=>rd(e.id,"assetType",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm",children:a.assetTypes.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Recurrence"}),(0,r.jsxs)("select",{value:e.recurrenceYears,onChange:r=>rd(e.id,"recurrenceYears",parseInt(r.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm",children:[(0,r.jsx)("option",{value:2,children:"Every 2 years"}),(0,r.jsx)("option",{value:3,children:"Every 3 years"}),(0,r.jsx)("option",{value:4,children:"Every 4 years"}),(0,r.jsx)("option",{value:5,children:"Every 5 years"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Depreciation"}),(0,r.jsxs)("select",{value:e.depreciationYears,onChange:r=>rd(e.id,"depreciationYears",parseInt(r.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm",children:[(0,r.jsx)("option",{value:4,children:"4 years"}),(0,r.jsx)("option",{value:5,children:"5 years"}),(0,r.jsx)("option",{value:10,children:"10 years"}),(0,r.jsx)("option",{value:15,children:"15 years"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Base Amount (SAR)"}),(0,r.jsx)("input",{type:"text",value:(0,x.formatCurrencySAR)(e.baseAmount),onChange:r=>rd(e.id,"baseAmount",(0,x.parseCurrency)(r.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Starting Year"}),(0,r.jsxs)("select",{value:e.startingYear,onChange:r=>rd(e.id,"startingYear",parseInt(r.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm",children:[(0,r.jsx)("option",{value:2028,children:"2028"}),(0,r.jsx)("option",{value:2029,children:"2029"}),(0,r.jsx)("option",{value:2030,children:"2030"}),(0,r.jsx)("option",{value:2031,children:"2031"}),(0,r.jsx)("option",{value:2032,children:"2032"})]})]}),(0,r.jsx)("div",{className:"flex items-end",children:(0,r.jsx)("button",{onClick:()=>{var r;return r=e.id,void e5(e7.filter(e=>e.id!==r))},className:"w-full px-3 py-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 border border-red-200 dark:border-red-800 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors flex items-center justify-center",children:(0,r.jsx)(c.Trash2,{className:"w-4 h-4"})})})]})},e.id)}),(0,r.jsxs)("button",{onClick:()=>{e5([...e7,{id:Date.now().toString(),category:"it_digital",assetType:u.it_digital.assetTypes[0],recurrenceYears:u.it_digital.defaultRecurrence,depreciationYears:u.it_digital.defaultDepreciation,baseAmount:0,startingYear:2028}])},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[(0,r.jsx)(o.Plus,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Add Recurring CAPEX Configuration"})]})]}),e7.length>0&&(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"Auto-generated CAPEX Schedule (2028-2052)"}),(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{className:"sticky top-0 bg-gray-100 dark:bg-gray-700",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left p-2 font-medium text-gray-700 dark:text-gray-300",children:"Year"}),(0,r.jsx)("th",{className:"text-left p-2 font-medium text-gray-700 dark:text-gray-300",children:"Description"}),(0,r.jsx)("th",{className:"text-right p-2 font-medium text-gray-700 dark:text-gray-300",children:"Amount (SAR)"}),(0,r.jsx)("th",{className:"text-right p-2 font-medium text-gray-700 dark:text-gray-300",children:"Depreciation"})]})}),(0,r.jsx)("tbody",{children:rn().map((e,a)=>(0,r.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("td",{className:"p-2 text-gray-700 dark:text-gray-300",children:e.year}),(0,r.jsx)("td",{className:"p-2 text-gray-700 dark:text-gray-300",children:e.description}),(0,r.jsx)("td",{className:"p-2 text-right text-gray-700 dark:text-gray-300",children:(0,x.formatCurrencySAR)(e.amount)}),(0,r.jsxs)("td",{className:"p-2 text-right text-gray-700 dark:text-gray-300",children:[e.depreciation_period," years"]})]},a))})]})}),(0,r.jsx)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[(0,r.jsx)("strong",{children:"Total Entries Generated:"})," ",rn().length," CAPEX investments across ",25," years"]})})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"border-l-4 border-green-500 pl-4 mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Working Capital Assumptions"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage cash conversion cycle"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Accounts Receivable (days)"}),(0,r.jsx)("input",{type:"number",value:e8,onChange:e=>e9(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Accounts Payable (days)"}),(0,r.jsx)("input",{type:"number",value:re,onChange:e=>rr(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Inventory (days)"}),(0,r.jsx)("input",{type:"number",value:ra,onChange:e=>rt(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:[(0,r.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[(0,r.jsx)("strong",{children:"Complete 25-Year Planning:"})," The system now includes comprehensive long-term planning from 2025-2052, giving you a full strategic view of your school financial trajectory with automated growth projections, ",(0,r.jsx)("strong",{children:"recurring CAPEX lifecycle management"}),", working capital management, and balance sheet modeling."]}),(0,r.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-300 mt-2",children:[(0,r.jsx)("strong",{children:"Recurring CAPEX:"})," Configure investment cycles by category (Buildings, IT, Transportation, etc.) and the system automatically generates CAPEX entries based on your recurrence rules - transforming planning from reactive to proactive lifecycle management."]})]})]})})]})}e.s(["default",()=>y],97532)}]);